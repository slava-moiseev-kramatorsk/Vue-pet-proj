{"ast":null,"code":"// import axios from \"axios\";\nimport { mapActions, mapMutations, mapGetters } from \"vuex\";\nimport router from \"@/router\";\nexport default {\n  data() {\n    return {\n      email: '',\n      password: ''\n    };\n  },\n\n  name: \"LoginPage\",\n  methods: { ...mapActions(\"auth\", ['sendLoginRequest', 'getUserData']),\n    ...mapMutations(\"auth\", ['setErrors']),\n\n    async login() {\n      await this.sendLoginRequest({\n        email: this.email,\n        password: this.password\n      }); // axios.get('http://example.palmo/sanctum/csrf-cookie')\n      //     .then(response => {\n      //       axios.post('http://example.palmo/login', {email: this.email, password: this.password})\n      //           .then(r =>{\n      //             console.log(r);\n      //             console.log(response);\n      //             console.log(this.$data)\n      //           })\n      //           .catch(err =>{\n      //             console.log(err)\n      //           })\n      //     })\n    }\n\n  },\n\n  mounted() {\n    if (localStorage.getItem(\"authToken\")) {\n      this.getUserData(this.apiToken);\n    }\n  },\n\n  computed: { ...mapGetters(\"auth\", [\"user\", \"apiToken\"])\n  }\n};","map":{"version":3,"mappings":"AAwBA;AACA;AACA;AAEA;EACAA;IACA;MACAC,SADA;MAEAC;IAFA;EAIA,CANA;;EAOAC,iBAPA;EASAC,WACA,0DADA;IAEA,sCAFA;;IAGA;MACA;QAAAH;QAAAC;MAAA,GADA,CAGA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;;EAlBA,CATA;;EA6BAG;IACA;MACA;IACA;EACA,CAjCA;;EAkCAC,YACA;EADA;AAlCA","names":["data","email","password","name","methods","mounted","computed"],"sourceRoot":"src/components/children","sources":["Login.vue"],"sourcesContent":["<template>\n\n    <div class=\"form\">\n      <el-input  placeholder=\"email\" v-model=\"email\" ></el-input>\n<!--      <input v-model=\"email\" type=\"email\" placeholder=\"email\" >-->\n      <el-input placeholder=\"password\" v-model=\"password\" type=\"password\"></el-input>\n<!--      <input v-model=\"password\" type=\"password\" placeholder=\"password\" class=\"form-control\">-->\n<!--      <input @click.prevent=\"login\" type=\"submit\" value=\"Login\" class=\"btn btn-primary\">-->\n      <el-button\n          class=\"btn\"\n          type=\"primary\"\n          plain\n          @click.prevent=\"login\"\n      >Войти</el-button>\n      <div v-if=\"user\">\n        <span class=\"text-decoration-underline fw-bold\"> Hello {{ user.name }}</span>\n<!--        <span @click=\"logout\" class=\"logout text-decoration-underline fw-bold\">Log out</span>-->\n      </div>\n    </div>\n\n\n</template>\n\n<script>\n// import axios from \"axios\";\nimport {mapActions, mapMutations,mapGetters} from \"vuex\";\nimport router from \"@/router\";\n\nexport default {\n  data() {\n    return {\n        email: '',\n        password: '',\n    }\n  },\n  name: \"LoginPage\",\n\n  methods: {\n    ...mapActions(\"auth\", ['sendLoginRequest', 'getUserData']),\n    ...mapMutations(\"auth\",['setErrors']),\n    async login() {\n        await this.sendLoginRequest({email: this.email, password: this.password});\n\n      // axios.get('http://example.palmo/sanctum/csrf-cookie')\n      //     .then(response => {\n      //       axios.post('http://example.palmo/login', {email: this.email, password: this.password})\n      //           .then(r =>{\n      //             console.log(r);\n      //             console.log(response);\n      //             console.log(this.$data)\n      //           })\n      //           .catch(err =>{\n      //             console.log(err)\n      //           })\n      //     })\n    },\n  },\n  mounted() {\n    if (localStorage.getItem(\"authToken\")) {\n      this.getUserData(this.apiToken);\n    }\n  },\n  computed: {\n    ...mapGetters(\"auth\", [\"user\",\"apiToken\"]),\n  },\n}\n\n</script>\n\n<style scoped>\n.form{\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  width: 400px;\n  margin: 15px;\n}\n\n</style>"]},"metadata":{},"sourceType":"module"}