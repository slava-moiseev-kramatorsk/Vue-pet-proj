{"ast":null,"code":"import { axiosInstance } from '@/services/api';\nexport default {\n  getUserData({\n    commit\n  }, token = null) {\n    if (!token) {\n      axiosInstance.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n    }\n\n    axiosInstance.get(\"user\").then(response => {\n      commit(\"setUserData\", response.data);\n    }).catch(() => {\n      localStorage.removeItem(\"authToken\");\n      commit(\"setApiToken\", null);\n    });\n  },\n\n  sendLoginRequest({\n    commit\n  }, data) {\n    commit('auth/setErrors', {}, {\n      root: true\n    });\n    return axiosInstance.post('login', data).then(response => {\n      commit(\"setUserData\", response.data.user);\n      localStorage.setItem(\"authToken\", response.data.token);\n      commit(\"setApiToken\", response.data.token);\n    }).catch(err => {\n      console.log(err);\n    });\n  },\n\n  sendRegisterRequest({\n    commit\n  }, data) {\n    commit(\"setErrors\", {}, {\n      root: true\n    });\n    return axiosInstance.post(\"register\", data).then(response => {\n      commit(\"setUserData\", response.data.user);\n      localStorage.setItem(\"authToken\", response.data.token);\n      commit(\"setApiToken\", response.data.token);\n    }).catch(err => console.log(err));\n  },\n\n  sendLogoutRequest({\n    commit\n  }) {\n    return axiosInstance.post(\"logout\").then(() => {\n      commit(\"setUserData\", null);\n      localStorage.removeItem(\"authToken\");\n    });\n  }\n\n};","map":{"version":3,"names":["axiosInstance","getUserData","commit","token","defaults","headers","common","get","then","response","data","catch","localStorage","removeItem","sendLoginRequest","root","post","user","setItem","err","console","log","sendRegisterRequest","sendLogoutRequest"],"sources":["/home/work/PhpstormProjects/hello-world/src/store/auth/actions.js"],"sourcesContent":["import {axiosInstance} from '@/services/api'\n\nexport default {\n    getUserData({ commit }, token=null) {\n        if(!token) {\n            axiosInstance.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n        }\n        axiosInstance.get(\"user\")\n            .then(response => {\n                commit(\"setUserData\", response.data);\n            })\n            .catch(() => {\n                localStorage.removeItem(\"authToken\");\n                commit(\"setApiToken\", null);\n            });\n    },\n    sendLoginRequest({ commit }, data) {\n        commit('auth/setErrors', {}, { root: true });\n        return axiosInstance.post('login', data)\n            .then(response => {\n                commit(\"setUserData\", response.data.user);\n                localStorage.setItem(\"authToken\", response.data.token);\n                commit(\"setApiToken\", response.data.token);\n            }).catch(err => {\n                console.log(err)\n            });\n    },\n    sendRegisterRequest({ commit }, data) {\n        commit(\"setErrors\", {}, { root: true });\n        return axiosInstance.post(\"register\", data)\n            .then(response => {\n                commit(\"setUserData\", response.data.user);\n                localStorage.setItem(\"authToken\", response.data.token);\n                commit(\"setApiToken\", response.data.token);\n            })\n            .catch(err => console.log(err));\n    },\n    sendLogoutRequest({ commit }) {\n        return axiosInstance.post(\"logout\").then(() => {\n            commit(\"setUserData\", null);\n            localStorage.removeItem(\"authToken\");\n        });\n    },\n}"],"mappings":"AAAA,SAAQA,aAAR,QAA4B,gBAA5B;AAEA,eAAe;EACXC,WAAW,CAAC;IAAEC;EAAF,CAAD,EAAaC,KAAK,GAAC,IAAnB,EAAyB;IAChC,IAAG,CAACA,KAAJ,EAAW;MACPH,aAAa,CAACI,QAAd,CAAuBC,OAAvB,CAA+BC,MAA/B,CAAsC,eAAtC,IAA0D,UAASH,KAAM,EAAzE;IACH;;IACDH,aAAa,CAACO,GAAd,CAAkB,MAAlB,EACKC,IADL,CACUC,QAAQ,IAAI;MACdP,MAAM,CAAC,aAAD,EAAgBO,QAAQ,CAACC,IAAzB,CAAN;IACH,CAHL,EAIKC,KAJL,CAIW,MAAM;MACTC,YAAY,CAACC,UAAb,CAAwB,WAAxB;MACAX,MAAM,CAAC,aAAD,EAAgB,IAAhB,CAAN;IACH,CAPL;EAQH,CAbU;;EAcXY,gBAAgB,CAAC;IAAEZ;EAAF,CAAD,EAAaQ,IAAb,EAAmB;IAC/BR,MAAM,CAAC,gBAAD,EAAmB,EAAnB,EAAuB;MAAEa,IAAI,EAAE;IAAR,CAAvB,CAAN;IACA,OAAOf,aAAa,CAACgB,IAAd,CAAmB,OAAnB,EAA4BN,IAA5B,EACFF,IADE,CACGC,QAAQ,IAAI;MACdP,MAAM,CAAC,aAAD,EAAgBO,QAAQ,CAACC,IAAT,CAAcO,IAA9B,CAAN;MACAL,YAAY,CAACM,OAAb,CAAqB,WAArB,EAAkCT,QAAQ,CAACC,IAAT,CAAcP,KAAhD;MACAD,MAAM,CAAC,aAAD,EAAgBO,QAAQ,CAACC,IAAT,CAAcP,KAA9B,CAAN;IACH,CALE,EAKAQ,KALA,CAKMQ,GAAG,IAAI;MACZC,OAAO,CAACC,GAAR,CAAYF,GAAZ;IACH,CAPE,CAAP;EAQH,CAxBU;;EAyBXG,mBAAmB,CAAC;IAAEpB;EAAF,CAAD,EAAaQ,IAAb,EAAmB;IAClCR,MAAM,CAAC,WAAD,EAAc,EAAd,EAAkB;MAAEa,IAAI,EAAE;IAAR,CAAlB,CAAN;IACA,OAAOf,aAAa,CAACgB,IAAd,CAAmB,UAAnB,EAA+BN,IAA/B,EACFF,IADE,CACGC,QAAQ,IAAI;MACdP,MAAM,CAAC,aAAD,EAAgBO,QAAQ,CAACC,IAAT,CAAcO,IAA9B,CAAN;MACAL,YAAY,CAACM,OAAb,CAAqB,WAArB,EAAkCT,QAAQ,CAACC,IAAT,CAAcP,KAAhD;MACAD,MAAM,CAAC,aAAD,EAAgBO,QAAQ,CAACC,IAAT,CAAcP,KAA9B,CAAN;IACH,CALE,EAMFQ,KANE,CAMIQ,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CANX,CAAP;EAOH,CAlCU;;EAmCXI,iBAAiB,CAAC;IAAErB;EAAF,CAAD,EAAa;IAC1B,OAAOF,aAAa,CAACgB,IAAd,CAAmB,QAAnB,EAA6BR,IAA7B,CAAkC,MAAM;MAC3CN,MAAM,CAAC,aAAD,EAAgB,IAAhB,CAAN;MACAU,YAAY,CAACC,UAAb,CAAwB,WAAxB;IACH,CAHM,CAAP;EAIH;;AAxCU,CAAf"},"metadata":{},"sourceType":"module"}